<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>GapiOAuth2ServiceAccount (gapi-ocaml.GapiOAuth2ServiceAccount)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">gapi-ocaml</a> &#x00BB; GapiOAuth2ServiceAccount</nav><h1>Module <code>GapiOAuth2ServiceAccount</code></h1><p>OAuth 2.0 authorization API implementation for service accounts.</p></header><dl><dt class="spec value" id="val-get_access_token"><a href="#val-get_access_token" class="anchor"></a><code><span class="keyword">val</span> get_access_token : <span>?&#8288;url:string</span> <span>&#45;&gt;</span> <span>?&#8288;assertion_timestamp:float</span> <span>&#45;&gt;</span> <span>?&#8288;assertion_expiration:float</span> <span>&#45;&gt;</span> <span>?&#8288;user_to_impersonate:string</span> <span>&#45;&gt;</span> <span>service_account_credentials_json:string</span> <span>&#45;&gt;</span> <span>scopes:<span>string list</span></span> <span>&#45;&gt;</span> <a href="../GapiConversation/Session/index.html#type-t">GapiConversation.Session.t</a> <span>&#45;&gt;</span> <a href="../GapiAuthResponse/index.html#type-t">GapiAuthResponse.t</a> * <a href="../GapiConversation/Session/index.html#type-t">GapiConversation.Session.t</a></code></dt><dd><p><code>get_access_token path scopes</code>: returns the access token for the service account. <code>service_account_data_path</code> is the path of the JSON file containing the account data (client id, private key, etc.), <code>scopes</code> is a list of the permissions that the application requests.</p><dl><dt>parameter url</dt><dd><p>URL of the auth endpoint (defaults to https://www.googleapis.com/oauth2/v4/token).</p></dd></dl><dl><dt>parameter assertion_timestamp</dt><dd><p>The time (Unix Epoch) the assertion is issued (defaults to now).</p></dd></dl><dl><dt>parameter assertion_expiration</dt><dd><p>The time (Unix Epoch) the assertion expires (defaults to now + 1 hour).</p></dd></dl><dl><dt>parameter user_to_impersonate</dt><dd><p>Email of the user to impersonate (for G Suite domains).</p></dd></dl><dl><dt>see <a href="https://developers.google.com/identity/protocols/OAuth2ServiceAccount">https://developers.google.com/identity/protocols/OAuth2ServiceAccount</a></dt><dd></dd></dl></dd></dl></div></body></html>